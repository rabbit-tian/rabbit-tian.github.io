<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        /*
            this:
            window
            事件触发元素
            对象
            undefined
            父级
            写啥是啥

        只要在函数中，有可能被修改

        先看是函数还是方法，如果是方法，那么this基本上是寄主。
        如果是函数，那么基本上是window
        */ 


//     function fn(){
//         console.log(this);
//     }
//    fn(); //window

//     document.onclick = function(){
//          console.log(this); // document
//
//          function fn(){
//              console.log(this); //window
//          }
//          fn();
//
//         (function(){
//             console.log(this); // window
//         })();
//     };

//     document.onclick = (function(){
//         console.log(this); //window  立即执行
//         return function(){
//             console.log(this);//document
//         }
//     })();

    // document.onclick = fn(); 
    // function fn(){
    //     console.log(this); //window
    // }

    // document.onclick = new fn();
    // function fn(){
    //     console.log(this); //fn{}
    // }
    
    // document.onclick = function(){
    //     function fn1(){
    //         console.log(this); // 命名函数fn1{}
    //         return function(){
    //             console.log(this); // 匿名函数 {}
    //         }
    //     }
    //     new new fn1; //函数才能new
    // }

//     document.onclick = function(){
//         function fn1(){
//             return function(){
//                setTimeout(function(){
//                  console.log(this); // window  定时器的this 都指向 window
//                });
//             }
//         }
//         new new fn1;
//     }

//     var arr = [];
//     arr.fn = function(){
//         function fn1(){
//             return function(){
//                 console.log(this); //{}
//             }
//         }
//         new new fn1;
//     };
//     new arr.fn;


    var obj = {
        name:'nizp', // 这个name不挂在window上
        fn(){
           console.log(this.name); // C  ''
        }
    };
    setTimeout(obj.fn,1000);

    console.dir(window);

     /*
        A:nizp  B:undefined C:'' D:null  E:报错
    */
    </script>
</body>
</html>