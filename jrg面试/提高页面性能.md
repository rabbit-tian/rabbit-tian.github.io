### 提高页面性能的方法有哪些
1. 资源压缩合并，减少HTTP请求
2. 非核心代码异步加载
    - 异步加载的方式有哪些
        - 动态脚本加载（js创建script标签，再加到body中去）
        - defer：在script标签上加上这个属性
        - async：在script标签上加上这个属性
    - 异步加载方式的区别
        - defer是在HTML解析后才会执行，如果是多个，按照加载的顺序依次执行  
        - async是在加载完之后立即执行，如果是多个，执行顺序和加载顺序无关

3. 利用浏览器缓存：基本的
    - 缓存的分类
        - 强缓存：在此时间前，不和服务器通信，直接拿来用
            - 绝对时间（下发服务器时间）
            - 客户端相对时间3600s(为准)
        - 协商缓存：浏览器和服务器协商该缓存是否可用，当强缓存失效，浏览器会携带上次的时间去对比
    - 缓存的原理
    - 和缓存相关的http协议头
        - Expires
        - Cache-Control
        - Last-Modified
        - If-Modefied--Since
        - Etage
        - If-None-Match
4. 使用CDN
    - 让网络快速到达服务端，把文件下载下来（特别在第一次打开页面时）
5. 预解析DNS
    - `<link rel="dns-prefetch" href="//host_name_to_prefetch.com">`
    - 强制打开a标签的预解析(https协议中，a标签预解析关闭)：`<meta http-equiv="x-dns-prefetch-control" content="on">`

6. 硬件加速：用显卡的GPU解码，分担了CPU的解码工作


### 慕课网课程学习 web前端性能优化

1. 资源的合并与压缩
    (减少http请求的数量,减少请求资源的大小)
    - html 代码压缩：对空格、制表符、换行符、html注释等的压缩，并进行gzip压缩
        - nodejs 提供的 HTML-minifier 工具：构建阶段和服务端压缩
        - 后端模板引擎渲染压缩

    - css 代码压缩： 无效代码删除，去空格，代码合并
        - HTML-minifier 工具
        - 使用 clean-css 对css进行压缩

    - js 代码压缩： 无效字符删除，代码缩减优化，输出注释，代码保护
        - HTML-minifier 工具
        
    - 文件合并： 使用 node.js 实现文件合并
        - 首屏渲染问题
        - 缓存失效问题
    

2. 图片的优化
    - 图片压缩方法
        - css sprite 雪碧图
            - 优点：减少http请求数量
            - 缺点：整合图片大，一次加载慢
        - Image inline
            - base 64 格式,减少网站的http请求
        - 使用svg矢量图
            - 使用 iconfont 字体图标 
        - 安卓下的 webp：体积小，性能好

    - jpg: 有损压缩，压缩率高，不支持透明
    - png：支持透明，浏览器兼容好
    - webp: 压缩程度更好，有兼容问题，应用 安卓
    - svg矢量图：代码内嵌，相对较小，应用于图片样式相对简单场景

3. css,js 加载过程中的优化点
    - 浏览器的渲染过程 dom Tree cssom tree render tree layout paint
    - css 阻塞 js 的执行，不阻塞外部脚本的加载
    - 依赖关系
        - 页面渲染依赖于css加载
        - js执行顺序的依赖关系
        - js逻辑对于dom节点的依赖关系(dom节点已生成)
    - js 的引入方式 的优化
        - 直接引入：阻塞页面的渲染
        - defer：不要让js阻塞页面渲染，执行时间到dom树完成之后
        - async：不要让js阻塞页面渲染，不保证脚本执行的顺序，脚本顺序之间不能有依赖关系
        - 异步动态引入js

    - 加载和执行的一些优化点
        - css 样式表置顶
            - 放在head中，会阻塞页面的渲染，保证在没有css的情况下不会渲染出来没有样式的html结构，体验不好
        - link 代替 import
            - import：把css放在dom结构最底端，同时没有进行并发的操作，性能不好
        - js 脚本置底部
            - 对于页面渲染，最基本的页面元素样式不依赖与js，依赖于 html 和 css
        - 合理使用js的异步加载能力
    
4. 懒加载和预加载
    - 懒加载
        - 图片进入可视区域之后请求图片资源，将属性url上的地址设置给img的src
        - 对于电商等图片很多，用户可能不会访问那么多图谱，减少无效资源的加载
        - 并发加载的资源过多会阻塞js的加载，影响网站的正常使用
    
    - 预加载
        - 图片等静态资源在使用之前的提前请求
        - 资源使用到时从缓存中加载，提升用户性能
    

 5. 减少回流和重绘
    - 回流：元素布局，尺寸的变化，需要重新构建
        - 盒子模型
        - 定位属性
        - 节点内部文字结构
    
    - 重绘：只是外观，风格改变，不影响布局 
        - color，bgc等
    
    - 回流一定会引起重绘，重绘不一定会引起回流
    - 优化点
        - 


